{"version":3,"sources":["assets/banner.png","constants.js","components/home.js","utilities.js","components/removeUnreferencedStrings.js","components/remapTranslations.js","components/extractLinks.js","App.js","index.js"],"names":["module","exports","constants","utilities","path","title","description","locales","utils","Home","Section","alt","src","banner","style","width","marginBottom","Object","keys","map","key","oneHalf","to","length","flattenObject","ob","toReturn","i","hasOwnProperty","flatObject","x","unflattenObject","data","result","split","reduce","r","e","j","isNaN","Number","download","filename","text","Promise","resolve","reject","setTimeout","element","document","createElement","setAttribute","encodeURIComponent","display","body","appendChild","click","removeChild","RemoveUnreferencedStrings","props","onChangeHandlerSchema","schema","setState","onChangeHandlerLang","lang","onClickHandlerVerify","isVerified","flat","JSON","parse","state","notFound","forEach","indexOf","push","newLang","stringify","undefined","breadcrumbs","content","url","process","primaryFooterAction","onAction","this","bind","onChange","target","value","height","resize","status","type","Item","readOnly","React","Component","RemapTranslations","onChangeHandlerNew","enNew","locale","langOld","onClickHandlerRemap","missing","translate","langKey","flatNew","flatOld","flatLangOld","object","val","keyOld","find","unflat","previousPromise","a","then","complete","subdued","Fragment","marginTop","extractLinks","onChangeHandlerText","onChangeHandlerAppend","append","onClickHandlerExtract","urls","match","links","label","link","href","App","basename","ReactDOM","render","i18n","enTranslations","getElementById"],"mappings":"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","file":"static/js/main.6d8d547e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/banner.b4044a15.png\";","\nconst constants = {\n    utilities: {\n        '1': {\n            path: '/remove-unreferenced-strings',\n            title: 'Find unreferenced locale strings',\n            description: 'This utility verifies if any strings in a locale file (e.g.en.json) are unreferenced in schema.json'\n        },\n        '2': {\n            path: '/remap-translations',\n            title: 'Remap translation strings',\n            description: 'This utility remaps locale files to a new structure'\n        },\n        '3': {\n            path: '/extract-links',\n            title: 'Extract links',\n            description: 'This utility extracts links from a block of text'\n        }\n    },\n    locales: [\n        'da',\n        'de',\n        'en',\n        'es',\n        'fi',\n        'fr',\n        'hi',\n        'it',\n        'ja',\n        'ko',\n        'ms',\n        'nb',\n        'nl',\n        'pt-BR',\n        'pt-PT',\n        'sv',\n        'th',\n        'zh-CN',\n        'zh-TW'\n    ]\n}\n\nexport default constants;","import React from 'react';\nimport {\n    Layout,\n    Page,\n    Card,\n    Button,\n} from '@shopify/polaris';\nimport banner from '../assets/banner.png';\nimport constants from '../constants'\n\nimport {\n    Link\n} from \"react-router-dom\";\n\n\nconst utils = constants.utilities;\n\nfunction Home() {\n    return (\n        <Page title=\"Utilities\">\n            <Layout>\n                <Layout.Section>\n                    <img alt=\"Utilities\" src={banner} style={{ width: \"100%\", marginBottom: \"1em\" }}></img>\n                </Layout.Section>\n            </Layout>\n            <Layout>\n                {Object.keys(utils).map(key => {\n                    return (\n                        <Layout.Section oneHalf key={key}>\n                            <Card title={utils[key].title}>\n                                <Card.Section>{utils[key].description}</Card.Section>\n                                <Card.Section>\n                                    <Link to={utils[key].path}>\n                                        <Button>Try it</Button>\n                                    </Link>\n                                </Card.Section>\n                            </Card>\n                        </Layout.Section>\n                    );\n                })}\n                {Object.keys(utils).length % 2 !== 0 &&\n                    <Layout.Section oneHalf></Layout.Section>\n                }\n            </Layout>\n        </Page>\n    );\n}\n\nexport default Home;","export const flattenObject = (ob) => {\n    var toReturn = {};\n\n    for (var i in ob) {\n        if (!ob.hasOwnProperty(i)) continue;\n\n        if ((typeof ob[i]) == 'object' && ob[i] !== null) {\n            var flatObject = flattenObject(ob[i]);\n            for (var x in flatObject) {\n                if (!flatObject.hasOwnProperty(x)) continue;\n\n                toReturn[i + '.' + x] = flatObject[x];\n            }\n        } else {\n            toReturn[i] = ob[i];\n        }\n    }\n    return toReturn;\n}\n\nexport const unflattenObject = (data) => {\n  var result = {}\n  for (var i in data) {\n    var keys = i.split('.')\n    keys.reduce(function(r, e, j) {\n      return r[e] || (r[e] = isNaN(Number(keys[j + 1])) ? (keys.length - 1 == j ? data[i] : {}) : [])\n    }, result)\n  }\n  return result\n}\n\nexport const download = (filename, text) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      var element = document.createElement('a');\n      element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n      element.setAttribute('download', filename);\n\n      element.style.display = 'none';\n      document.body.appendChild(element);\n\n      element.click();\n\n      document.body.removeChild(element);\n\n      resolve(\"Success!\");\n    }, 150);\n  });\n}\n\nexport const getKeyByValue = (object, value) => {\n  return Object.keys(object).find(key => object[key] === value);\n}","import React from 'react';\nimport {\n    Layout,\n    Page,\n    Card,\n    TextContainer,\n    Banner,\n    FormLayout,\n    List\n} from '@shopify/polaris';\n\nimport constants from '../constants'\nimport { flattenObject, unflattenObject } from '../utilities'\n\nconst utils = constants.utilities;\n\nclass RemoveUnreferencedStrings extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            schema: '',\n            lang: '',\n            isVerified: false,\n            keys: [],\n            newLang: ''\n        }\n    }\n\n    onChangeHandlerSchema = (schema) => {\n        this.setState({\n            schema\n        })\n    }\n\n    onChangeHandlerLang = (lang) => {\n        this.setState({\n            lang\n        })\n    }\n\n    onClickHandlerVerify = () => {\n        this.setState({\n            isVerified: false\n        });\n        const flat = flattenObject(JSON.parse(this.state.lang));\n        const notFound = [];\n        Object.keys(flat).forEach(key => {\n            if (this.state.schema.indexOf(key) === -1) {\n                delete flat[key];\n                notFound.push(key);\n            }\n        });\n        this.setState({\n            keys: notFound,\n            isVerified: true,\n            newLang: JSON.stringify(unflattenObject(flat), undefined, 2)\n        });\n    }\n\n    render() {\n        return (\n            <Page title={utils[1].title} breadcrumbs={[{ content: 'Utilities', url: process.env.PUBLIC_URL}]}>\n                <Layout>\n                    <Layout.Section>\n                        <TextContainer>\n                            <p>{utils[1].description}</p>\n                        </TextContainer>\n                    </Layout.Section>\n                    <Layout.Section>\n                        <Card primaryFooterAction={{ content: 'Verify', onAction: this.onClickHandlerVerify.bind(this) }}>\n                            <Card.Section>\n                                <FormLayout>\n                                    <label>schema.json</label>\n                                    <textarea onChange={(e) => this.onChangeHandlerSchema(e.target.value)} style={{ width: \"100%\", height: \"180px\", resize: \"none\" }} ></textarea>\n\n                                    <label>en.json</label>\n                                    <textarea onChange={(e) => this.onChangeHandlerLang(e.target.value)} style={{ width: \"100%\", height: \"180px\", resize: \"none\" }} ></textarea>\n                                </FormLayout>\n                            </Card.Section>\n                        </Card>\n                    </Layout.Section>\n                    {this.state.isVerified &&\n                        <Layout.Section>\n                            {this.state.keys.length === 0 &&\n                                <Banner\n                                    title=\"All keys in en.json are used in schema\"\n                                    status=\"success\"\n                                />\n                            }\n                            {this.state.keys.length > 0 &&\n                                <Banner\n                                    title=\"Following keys from en.json are not used in schema and have been removed:\"\n                                    status=\"success\"\n                                >\n\n                                    <List type=\"bullet\">\n                                        {this.state.keys.map(key => {\n                                            return (<List.Item key={key}>{key}</List.Item>)\n                                        })}\n                                    </List>\n\n                                </Banner>\n                            }\n                            {this.state.keys.length > 0 &&\n                                <Card>\n                                    <Card.Section>\n                                        <FormLayout>\n                                            <label>Updated en.json</label>\n                                            <textarea value={this.state.newLang} readOnly style={{ width: \"100%\", height: \"180px\", resize: \"none\" }} ></textarea>\n                                        </FormLayout>\n                                    </Card.Section>\n                                </Card>\n                            }\n                        </Layout.Section>\n                    }\n                </Layout>\n            </Page>\n        );\n    }\n}\n\nexport default RemoveUnreferencedStrings;","import React from 'react';\nimport {\n    Layout,\n    Page,\n    Card,\n    TextContainer,\n    FormLayout,\n    Badge,\n    Banner,\n    List\n} from '@shopify/polaris';\n\nimport constants from '../constants'\nimport { flattenObject, unflattenObject, download, getKeyByValue } from '../utilities'\n\nconst utils = constants.utilities;\n\nclass RemapTranslations extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            enNew: '',\n            langOld: {},\n            missing: [],\n            complete: false\n        }\n    }\n\n    onChangeHandlerNew = (enNew) => {\n        this.setState({\n            enNew\n        })\n    }\n\n    onChangeHandlerLang = (locale, lang) => {\n        const langOld = {\n            ...this.state.langOld\n        }\n        if (lang === '') {\n            delete langOld[locale];\n        }\n        else {\n            langOld[locale] = lang;\n        }\n        this.setState({\n            langOld\n        })\n    }\n\n    onClickHandlerRemap = () => {\n        const state = this.state;\n        const missing = [];\n\n        function translate(langOld, langKey) {\n            var result = flattenObject(JSON.parse(state.enNew));\n            var flatNew = flattenObject(JSON.parse(state.enNew));\n            var flatOld = flattenObject(JSON.parse(state.langOld['en']));\n            var flatLangOld = flattenObject(JSON.parse(langOld));\n\n            Object.keys(flatNew).forEach((key) => {\n                var val = flatNew[key];\n                var keyOld = getKeyByValue(flatOld, val);\n                if (keyOld) {\n                    result[key] = flatLangOld[keyOld];\n                }\n                else {\n                    delete result[key]\n                    missing.push(`${langKey}.json - ${key}`)\n                }\n            });\n\n            const unflat = unflattenObject(result);\n            const unflatString = JSON.stringify(unflat, undefined, 2);\n            return unflatString;\n        }\n\n        Object.keys(state.langOld).reduce(async (previousPromise, key) => {\n            await previousPromise;\n            if(key !== 'en') {\n                return download(`${key}.json`, translate(state.langOld[key], key));\n            } else {\n                return Promise.resolve();\n            }\n        }, Promise.resolve()).then(() => {\n            this.setState({\n                missing,\n                complete: true\n            });\n        });\n    }\n\n    render() {\n        return (\n            <Page title={utils[2].title} breadcrumbs={[{ content: 'Utilities', url: process.env.PUBLIC_URL }]}>\n                <Layout>\n                    <Layout.Section>\n                        <TextContainer>\n                            <p>{utils[2].description}</p>\n                        </TextContainer>\n                    </Layout.Section>\n                    <Layout.Section>\n                        <Card primaryFooterAction={{ content: 'Remap', onAction: this.onClickHandlerRemap.bind(this) }}>\n                            <Card.Section subdued>\n                                <FormLayout>\n                                <Badge status=\"success\">Updated file</Badge>\n                                    <label>en.json</label>\n                                    <textarea value={this.state.enNew} onChange={(e) => this.onChangeHandlerNew(e.target.value)} style={{ width: \"100%\", height: \"100px\", resize: \"none\" }} ></textarea>\n                                </FormLayout>\n                            </Card.Section>\n                            <Card.Section>\n                                <FormLayout>\n                                    <Badge status=\"attention\">Original files</Badge>\n                                    {constants.locales.map(locale => {\n                                        return (\n                                            <React.Fragment key={locale}>\n                                                <label>{locale}.json</label>\n                                                <textarea value={this.state.langOld[locale]} onChange={(e) => this.onChangeHandlerLang(locale, e.target.value)} style={{ width: \"100%\", height: \"100px\", resize: \"none\", marginTop: \"1em\" }} ></textarea>\n                                            </React.Fragment>\n                                        )\n                                    })}\n                                </FormLayout>\n                            </Card.Section>\n                        </Card>\n                    </Layout.Section>\n                    <Layout.Section>\n                        {this.state.complete &&\n                            <Banner\n                                title=\"Files downloaded\"\n                                status=\"success\"\n                            />\n                        }\n                        {this.state.complete &&\n                            <Banner\n                                title=\"Following translations could not be remapped:\"\n                                status=\"warning\"\n                            >\n                                <List type=\"bullet\">\n                                    {this.state.missing.map(key => {\n                                        return (<List.Item key={key}>{key}</List.Item>)\n                                    })}\n                                </List>\n                            </Banner>\n                        }\n                    </Layout.Section>\n                </Layout>\n            </Page >\n        );\n    }\n}\n\nexport default RemapTranslations;","import React from 'react';\nimport {\n    Layout,\n    Page,\n    Card,\n    TextContainer,\n    FormLayout,\n    Banner,\n    List,\n    TextField\n} from '@shopify/polaris';\n\nimport constants from '../constants'\n\nconst utils = constants.utilities;\n\nclass extractLinks extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            text: '',\n            append: '',\n            links: [],\n            complete: false\n        }\n    }\n\n    onChangeHandlerText = (text) => {\n        this.setState({\n            text,\n            complete: false\n        })\n    }\n\n    onChangeHandlerAppend = (append) => {\n        this.setState({\n            append,\n            complete: false\n        })\n    }\n\n    onClickHandlerExtract = () => {\n        const urls = this.state.text.match(/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig);\n\n        const links = urls ? urls.map(url => {\n            return `${url}${this.state.append}`\n        }) : [];\n\n        this.setState({\n            links,\n            complete: true\n        });\n    }\n\n    render() {\n        return (\n            <Page title={utils[3].title} breadcrumbs={[{ content: 'Utilities', url: process.env.PUBLIC_URL }]}>\n                <Layout>\n                    <Layout.Section>\n                        <TextContainer>\n                            <p>{utils[3].description}</p>\n                        </TextContainer>\n                    </Layout.Section>\n                    <Layout.Section>\n                        <Card primaryFooterAction={{ content: 'Extract links', onAction: this.onClickHandlerExtract.bind(this) }}>\n                            <Card.Section>\n                                <FormLayout>\n                                    <label>Text</label>\n                                    <textarea\n                                        value={this.state.text}\n                                        onChange={(e) => this.onChangeHandlerText(e.target.value)}\n                                        style={{ width: \"100%\", height: \"180px\", resize: \"none\" }}>\n                                    </textarea>\n                                    <TextField label=\"Append links with\" value={this.state.append} onChange={(value) => this.onChangeHandlerAppend(value)} />\n                                </FormLayout>\n                            </Card.Section>\n                        </Card>\n                    </Layout.Section>\n                    {this.state.complete &&\n                        <Layout.Section>\n                            {this.state.links.length > 0 &&\n                                <Banner\n                                    title=\"Links extracted\"\n                                    status=\"success\"\n                                />\n                            }\n                            {this.state.links.length > 0 &&\n                                <Card>\n                                    <Card.Section>\n                                        <List type=\"bullet\">\n                                            {this.state.links.map(link => {\n                                                return (\n                                                    <List.Item key={link}>\n                                                        <a target=\"_blank\" href={link}>{link}</a>\n                                                    </List.Item>\n                                                )\n                                            })}\n                                        </List>\n                                    </Card.Section>\n                                </Card>\n                            }\n                            {this.state.links.length === 0 &&\n                                <Banner\n                                    title=\"No links found\"\n                                    status=\"warning\"\n                                />\n                            }\n                        </Layout.Section>\n                    }\n                </Layout>\n            </Page >\n        );\n    }\n}\n\nexport default extractLinks;","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport constants from './constants';\nimport Home from './components/home';\nimport RemoveUnreferencedStrings from './components/removeUnreferencedStrings';\nimport RemapTranslations from './components/remapTranslations';\nimport ExtractLinks from './components/extractLinks';\n\nconst utils = constants.utilities;\n\nexport default function App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route path={utils[1].path}>\n          <RemoveUnreferencedStrings />\n        </Route>\n        <Route path={utils[2].path}>\n          <RemapTranslations />\n        </Route>\n        <Route path={utils[3].path}>\n          <ExtractLinks />\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '@shopify/polaris/styles.css';\nimport {AppProvider} from '@shopify/polaris';\nimport enTranslations from '@shopify/polaris/locales/en.json';\n\nimport App from './App';\n\nfunction WrappedApp() {\n  return (\n    <AppProvider i18n={enTranslations}>\n      <App />\n    </AppProvider>\n  );\n}\n\nReactDOM.render(<WrappedApp />, document.getElementById('root'));\n"],"sourceRoot":""}