{"version":3,"sources":["assets/banner.png","constants.js","components/home.js","utilities.js","components/removeUnreferencedStrings.js","components/remapTranslations.js","App.js","index.js"],"names":["module","exports","constants","utilities","path","title","description","utils","Home","Section","src","banner","style","width","marginBottom","Object","keys","map","key","oneThird","to","unflattenObject","data","result","i","split","reduce","r","e","j","isNaN","Number","length","RemoveUnreferencedStrings","props","onChangeHandlerSchema","schema","setState","onChangeHandlerLang","lang","onClickHandlerVerify","isVerified","flat","flattenObject","ob","toReturn","hasOwnProperty","flatObject","x","JSON","parse","state","notFound","forEach","indexOf","push","newLang","stringify","undefined","breadcrumbs","content","url","process","primaryFooterAction","onAction","this","bind","onChange","target","value","height","resize","status","type","Item","readOnly","React","Component","RemapTranslations","App","basename","ReactDOM","render","i18n","enTranslations","document","getElementById"],"mappings":"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","file":"static/js/main.b967dd45.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/banner.b4044a15.png\";","\nconst constants = {\n    utilities: {\n        '1': {\n            path: '/remove-unreferenced-strings',\n            title: 'Find unreferenced locale strings',\n            description: 'This utility verifies if any strings in a locale file (e.g.en.json) are unreferenced in schema.json'\n        },\n        '2': {\n            path: '/remap-translations',\n            title: 'Remap translation strings',\n            description: 'This utility remaps locale files to a new structure'\n        }\n    }\n}\n\nexport default constants;","import React from 'react';\nimport {\n    Layout,\n    Page,\n    Card,\n    Button,\n  } from '@shopify/polaris';\nimport banner from '../assets/banner.png'; \nimport constants from '../constants'\n\nimport {\n    BrowserRouter as Router,\n    Link\n} from \"react-router-dom\";\n\n\nconst utils = constants.utilities;\n\nfunction Home() {\n    return (\n        <Page title=\"Utilities\">\n            <Layout>\n            <Layout.Section>\n            <img src={banner} style={{width: \"100%\", marginBottom: \"1em\"}}></img>\n            </Layout.Section>\n            </Layout>\n            <Layout>\n                {Object.keys(utils).map(key => {\n                return (\n                    <Layout.Section oneThird key={key}>\n                        <Card title={utils[key].title}>\n                            <Card.Section>{utils[key].description}</Card.Section>\n                            <Card.Section>\n                            <Link to={utils[key].path}>\n                                <Button>Try it</Button>\n                            </Link>\n                            </Card.Section>\n                        </Card> \n                    </Layout.Section>\n                );\n                })}\n            </Layout>\n        </Page>\n    );\n}\n\nexport default Home;","export const flattenObject = (ob) => {\n    var toReturn = {};\n\n    for (var i in ob) {\n        if (!ob.hasOwnProperty(i)) continue;\n\n        if ((typeof ob[i]) == 'object' && ob[i] !== null) {\n            var flatObject = flattenObject(ob[i]);\n            for (var x in flatObject) {\n                if (!flatObject.hasOwnProperty(x)) continue;\n\n                toReturn[i + '.' + x] = flatObject[x];\n            }\n        } else {\n            toReturn[i] = ob[i];\n        }\n    }\n    return toReturn;\n}\n\nexport const unflattenObject = (data) => {\n  var result = {}\n  for (var i in data) {\n    var keys = i.split('.')\n    keys.reduce(function(r, e, j) {\n      return r[e] || (r[e] = isNaN(Number(keys[j + 1])) ? (keys.length - 1 == j ? data[i] : {}) : [])\n    }, result)\n  }\n  return result\n}","import React from 'react';\nimport {\n    Layout,\n    Page,\n    Card,\n    Button,\n    TextField,\n    TextContainer,\n    Banner,\n    FormLayout,\n    List\n} from '@shopify/polaris';\n\nimport constants from '../constants'\nimport { flattenObject, unflattenObject } from '../utilities'\n\nconst utils = constants.utilities;\n\nclass RemoveUnreferencedStrings extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            schema: '',\n            lang: '',\n            isVerified: false,\n            keys: [],\n            newLang: ''\n        }\n    }\n\n    onChangeHandlerSchema = (schema) => {\n        this.setState({\n            schema\n        })\n    }\n\n    onChangeHandlerLang = (lang) => {\n        this.setState({\n            lang\n        })\n    }\n\n    onClickHandlerVerify = () => {\n        this.setState({\n            isVerified: false\n        });\n        const flat = flattenObject(JSON.parse(this.state.lang));\n        const notFound = [];\n        Object.keys(flat).forEach(key => {\n            if (this.state.schema.indexOf(key) === -1) {\n                delete flat[key];\n                notFound.push(key);\n            }\n        });\n        this.setState({\n            keys: notFound,\n            isVerified: true,\n            newLang: JSON.stringify(unflattenObject(flat), undefined, 2)\n        });\n    }\n\n    render() {\n        return (\n            <Page title={utils[1].title} breadcrumbs={[{ content: 'Utilities', url: process.env.PUBLIC_URL}]}>\n                <Layout>\n                    <Layout.Section>\n                        <TextContainer>\n                            <p>This utility verifies if any strings from en.json are unreferenced in schema.json</p>\n                        </TextContainer>\n                    </Layout.Section>\n                    <Layout.Section>\n                        <Card primaryFooterAction={{ content: 'Verify', onAction: this.onClickHandlerVerify.bind(this) }}>\n                            <Card.Section>\n                                <FormLayout>\n                                    <label>schema.json</label>\n                                    <textarea onChange={(e) => this.onChangeHandlerSchema(e.target.value)} style={{ width: \"100%\", height: \"180px\", resize: \"none\" }} ></textarea>\n\n                                    <label>en.json</label>\n                                    <textarea onChange={(e) => this.onChangeHandlerLang(e.target.value)} style={{ width: \"100%\", height: \"180px\", resize: \"none\" }} ></textarea>\n                                </FormLayout>\n                            </Card.Section>\n                        </Card>\n                    </Layout.Section>\n                    {this.state.isVerified &&\n                        <Layout.Section>\n                            {this.state.keys.length === 0 &&\n                                <Banner\n                                    title=\"All keys in en.json are used in schema\"\n                                    status=\"info\"\n                                />\n                            }\n                            {this.state.keys.length > 0 &&\n                                <Banner\n                                    title=\"Following keys from en.json are not used in schema and have been removed:\"\n                                    status=\"warning\"\n                                >\n\n                                    <List type=\"bullet\">\n                                        {this.state.keys.map(key => {\n                                            return (<List.Item key={key}>{key}</List.Item>)\n                                        })}\n                                    </List>\n\n                                </Banner>\n                            }\n                            {this.state.keys.length > 0 &&\n                                <Card>\n                                    <Card.Section>\n                                        <FormLayout>\n                                            <label>Updated en.json</label>\n                                            <textarea value={this.state.newLang} readOnly style={{ width: \"100%\", height: \"180px\", resize: \"none\" }} ></textarea>\n                                        </FormLayout>\n                                    </Card.Section>\n                                </Card>\n                            }\n                        </Layout.Section>\n                    }\n                </Layout>\n            </Page>\n        );\n    }\n}\n\nexport default RemoveUnreferencedStrings;","import React from 'react';\nimport {\n    Layout,\n    Page,\n    Card,\n    Button,\n    TextField,\n    TextContainer,\n    Banner,\n    FormLayout,\n    List\n} from '@shopify/polaris';\n\nimport constants from '../constants'\nimport { flattenObject, unflattenObject } from '../utilities'\n\nconst utils = constants.utilities;\n\nclass RemapTranslations extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            schema: '',\n            lang: '',\n            isVerified: false,\n            keys: [],\n            newLang: ''\n        }\n    }\n\n    onChangeHandlerSchema = (schema) => {\n\n    }\n\n    onChangeHandlerLang = (lang) => {\n  \n    }\n\n    onClickHandlerVerify = () => {\n \n    }\n\n    render() {\n        return (\n            <Page title={utils[2].title} breadcrumbs={[{ content: 'Utilities', url: process.env.PUBLIC_URL }]}>\n                <Layout>\n                    <Layout.Section>\n                        <TextContainer>\n                            <p>Coming Soon</p>\n                        </TextContainer>\n                    </Layout.Section>\n                </Layout>\n            </Page>\n        );\n    }\n}\n\nexport default RemapTranslations;","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport constants from './constants';\nimport Home from './components/home';\nimport RemoveUnreferencedStrings from './components/removeUnreferencedStrings';\nimport RemapTranslations from './components/remapTranslations';\n\nconst utils = constants.utilities;\n\nexport default function App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route path={utils[1].path}>\n          <RemoveUnreferencedStrings />\n        </Route>\n        <Route path={utils[2].path}>\n          <RemapTranslations />\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '@shopify/polaris/styles.css';\nimport {AppProvider} from '@shopify/polaris';\nimport enTranslations from '@shopify/polaris/locales/en.json';\n\nimport App from './App';\n\nfunction WrappedApp() {\n  return (\n    <AppProvider i18n={enTranslations}>\n      <App />\n    </AppProvider>\n  );\n}\n\nReactDOM.render(<WrappedApp />, document.getElementById('root'));\n"],"sourceRoot":""}